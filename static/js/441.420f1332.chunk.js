"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[441],{307:()=>{},646:()=>{},1751:(e,a,t)=>{t.d(a,{Ep:()=>r,kN:()=>s,v:()=>n});const s=async(e,a,t)=>{console.log("this is fetchProvinces");const s=await e();!0===s.success&&(s.data.unshift({id:String(Math.random()),value:"",label:a}),t(s.data))},n=async(e,a,t,s)=>{const n=await e(a);!0===n.success&&(n.data.unshift({id:String(Math.random()),value:"",label:t}),s(n.data))},r=async(e,a,t,s,r,l,i)=>{const o=e.target.value;if(o!==t){s(o);try{n(r,l,a,i)}catch(d){console.error(d)}}}},2057:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(5304);const n={getProvinces:()=>s.A.get("/users/provinces"),postDistricts:e=>s.A.post("/users/districts",e),postWards:e=>s.A.post("/users/wards",e)}},3441:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(5043),n=t(3003),r=t(3709),l=t(2057),i=t(8802),o=t(7198),d=t(9652),c=t(1751),m=(t(646),t(579));const u=()=>{var e;const a=(0,r.Zp)(),t=(0,r.zy)(),u=null===(e=t.state)||void 0===e?void 0:e.profileId;console.log("profileForm",t);const h=(0,n.d4)((e=>e.user.idUser)),p=(0,n.d4)((e=>e.user.role)),[g,v]=(0,s.useState)(""),[x,N]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[S,A]=(0,s.useState)(""),[w,C]=(0,s.useState)(""),[q,k]=(0,s.useState)(""),[T,D]=(0,s.useState)(""),[F,H]=(0,s.useState)(""),[M,P]=(0,s.useState)(""),[Q,z]=(0,s.useState)([{id:String(Math.random()),value:"",label:"T\u1ec9nh, Th\xe0nh ph\u1ed1"}]),[E,I]=(0,s.useState)(""),[R,$]=(0,s.useState)([{id:String(Math.random()),value:"",label:"Qu\u1eadn, Huy\u1ec7n"}]),[W,X]=(0,s.useState)(""),[G,O]=(0,s.useState)([{id:String(Math.random()),value:"",label:"X\xe3, Ph\u01b0\u1eddng"}]),[U,_]=(0,s.useState)(""),[B,K]=(0,s.useState)("S\u1ed1 nh\xe0 v\xe0 t\xean \u0111\u01b0\u1eddng"),[L,Z]=(0,s.useState)(""),[J,V]=(0,s.useState)(""),[Y,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)("");(0,s.useEffect)((()=>{async function e(e){const t=await i.A.getProfile(e);if(t&&t.data){const e=t.data;if(console.log(e),P(""),N(e.username||""),v(e.email||""),j(e.fullname||""),y(e.gender||""),A(e.phone||""),k(e.summary||""),C(e.organizationName||""),K(e.addressDetail||""),Z(e.website||""),D(e.role||""),H(e.status||""),V(e.linkQR||""),ee(e.avatar||""),te(e.background||""),await(0,c.kN)(l.A.getProvinces,"T\u1ec9nh, Th\xe0nh ph\u1ed1",z),!e.province)return;console.log("info.province"),I(e.province),await(0,c.v)(l.A.postDistricts,{value:e.province},"Qu\u1eadn, Huy\u1ec7n",$),e.district&&(console.log("info.district"),X(e.district),await(0,c.v)(l.A.postWards,{provinceName:e.province,districtName:e.district},"Ph\u01b0\u1eddng, X\xe3",O),e.ward&&_(e.ward))}else!t||500!==t.status&&404!==t.status||a("/error-page",{state:{status:t.status,errors:t.errors}})}h&&u&&h.toString()!==u.toString()?(console.log("profileId",u),e(u)):(console.log(h,u),e(h))}),[]),console.log(p,T);return(0,m.jsx)(d.A,{formName:"layout-form",formTitle:"TH\xd4NG TIN C\xc1 NH\xc2N",children:(0,m.jsx)("form",{method:"POST",onSubmit:async e=>{e.preventDefault(),P(""),console.log("l\u1ea5y \u0111ata");const t=new FormData(e.target),s=await i.A.postUpdatePersonalInfo(h,t);s&&!0===s.success?window.alert("B\u1ea1n \u0111\xe3 c\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"):s&&!1===s.success?P(s.message):!s||500!==s.status&&404!==s.status||a("/error-page",{state:{status:s.status,errors:s.errors}})},encType:"multipart/form-data",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-sm-6 pt-3 column-1",children:["partner"!==T&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.A,{label:"T\xean ng\u01b0\u1eddi d\xf9ng",type:"text",id:"username",name:"username",className:"form-control",value:x,onChange:e=>N(e.target.value),required:!0}),M&&(0,m.jsx)("p",{className:"text-danger",children:(0,m.jsx)("small",{children:M})})]}),"partner"===T&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.A,{label:"T\xean t\u1ed5 ch\u1ee9c",type:"text",id:"organizationName",name:"organizationName",className:"form-control",value:w,onChange:e=>C(e.target.value),required:!0}),M&&(0,m.jsx)("p",{className:"text-danger",children:(0,m.jsx)("small",{children:M})})]}),(0,m.jsx)(o.A,{label:"Email",type:"email",id:"email",name:"email",className:"form-control",value:g,onChange:e=>v(e.target.value),disabled:"client"===p||"partner"===p,required:!0}),("client"===T||"admin 2"===T||"admin 1"===T)&&(0,m.jsx)(o.A,{label:"H\u1ecd v\xe0 t\xean",type:"text",id:"fullname",name:"fullname",className:"form-control",value:f,onChange:e=>j(e.target.value),required:p&&"amdin 1"!==p&&"admin 2"!==p}),(0,m.jsx)(o.A,{label:"\u0110i\u1ec7n tho\u1ea1i",type:"text",id:"phone",name:"phone",className:"form-control",value:S,onChange:e=>A(e.target.value),required:p&&"amdin 1"!==p&&"admin 2"!==p})," ","partner"===T&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.A,{type:"text",label:"\u0110\u01b0\u1eddng d\u1eabn website c\u1ee7a t\u1ed5 ch\u1ee9c:",id:"website",name:"website",value:L,onChange:e=>Z(e.target.value),placeholder:"\u0110\u01b0\u1eddng d\u1eabn \u0111\u1ebfn trang web c\u1ee7a t\u1ed5 ch\u1ee9c",required:!0}),(0,m.jsx)(o.A,{value:q,label:"T\xf3m t\u1eaft v\u1ec1 t\u1ed5 ch\u1ee9c",type:"textarea",id:"summary",name:"summary",className:"form-control",rows:"6",onChange:e=>k(e.target.value)})]})]}),(0,m.jsxs)("div",{className:"col-sm-6 pt-3 column-2",children:[(0,m.jsxs)("h6",{className:"pb-2",children:["\u0110\u1ecba ch\u1ec9: ",(0,m.jsx)("sup",{className:"text-danger",children:"*"})]}),(0,m.jsx)(o.A,{value:E,type:"select",id:"province",name:"province",className:"form-control",sharedName:"provinces",onChange:e=>{(0,c.Ep)(e,"Qu\u1eadn, Huy\u1ec7n",E,I,l.A.postDistricts,{value:e.target.value},$),console.log("districts",R)},options:Q,required:p&&"amdin 1"!==p&&"admin 2"!==p}),(0,m.jsx)(o.A,{value:W,type:"select",id:"district",name:"district",className:"form-control",sharedName:"provinces",onChange:e=>{const a={provinceName:E,districtName:e.target.value};(0,c.Ep)(e,"Ph\u01b0\u1eddng, X\xe3",W,X,l.A.postWards,a,O)},options:R,required:p&&"amdin 1"!==p&&"admin 2"!==p}),(0,m.jsx)(o.A,{value:U,type:"select",id:"ward",name:"ward",className:"form-control",sharedName:"provinces",onChange:e=>_(e.target.value),options:G,required:p&&"amdin 1"!==p&&"admin 2"!==p}),(0,m.jsx)(o.A,{type:"text",id:"addressDetail",name:"addressDetail",className:"form-control",sharedName:"provinces",value:B,onChange:e=>K(e.target.value),placeholder:"S\u1ed1 nh\xe0 v\xe0 t\xean \u0111\u01b0\u1eddng",required:p&&"amdin 1"!==p&&"admin 2"!==p}),("admin 1"===T||"admin 2"===T||"client"===T)&&(0,m.jsx)(o.A,{value:b,label:"Gi\u1edbi t\xednh",type:"select",id:"gender",name:"gender",className:"form-control",sharedName:"category gender",onChange:e=>y(e.target.value),options:[{value:"",label:"Ch\u1ecdn"},{value:"Female",label:"N\u1eef"},{value:"Male",label:"Nam"},{value:"Other",label:"Kh\xe1c"}]}),("admin 1"===p||"admin 2"===p)&&"partner"===T&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.A,{label:"M\xe3 QR ng\xe2n h\xe0ng:",type:"file",id:"linkQR",name:"linkQR",sharedName:"line linkQR",required:!J})}),(0,m.jsx)(o.A,{label:"H\xecnh \u0111\u1ea1i di\u1ec7n:",type:"file",id:"avatar",name:"avatar",sharedName:"line",required:p&&"amdin 1"!==p&&"admin 2"!==p&&!Y}),(0,m.jsx)(o.A,{label:"H\xecnh n\u1ec1n:",type:"file",id:"background",name:"background",sharedName:"line",required:p&&"amdin 1"!==p&&"admin 2"!==p&&!ae}),("admin 1"===p||"admin 2"===p)&&(0,m.jsx)(o.A,{value:F,label:"Tr\u1ea1ng th\xe1i",type:"select",id:"status",name:"status",className:"form-control",sharedName:"category status",onChange:e=>H(e.target.value),options:[{value:"ho\u1ea1t \u0111\u1ed9ng",label:"Ho\u1ea1t \u0111\u1ed9ng"},{value:"d\u1eebng ho\u1ea1t \u0111\u1ed9ng",label:"D\u1eebng ho\u1ea1t \u0111\u1ed9ng"}]}),(0,m.jsx)("input",{type:"hidden",name:"userId",value:u&&u.toString()!==h.toString()?u:h})]}),(0,m.jsx)("p",{children:(0,m.jsxs)("small",{children:[(0,m.jsx)("span",{children:"L\u01b0u \xfd:"})," M\u1ee5c (",(0,m.jsx)("span",{className:"text-danger",children:"*"}),"): kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."]})}),(0,m.jsx)("div",{className:"container-button",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-success text-center",children:"C\u1eadp nh\u1eadt"})})]})})})}},7198:(e,a,t)=>{t.d(a,{A:()=>n});t(5043),t(646);var s=t(579);const n=e=>{let{label:a,type:t,id:n,name:r,required:l,options:i,className:o,sharedName:d,value:c,disabled:m,onChange:u,rows:h,multiple:p,placeholder:g,min:v}=e;return console.log(l,r),(0,s.jsxs)("div",{className:`form-group ${d}`,children:[a&&"checkbox"!==t?(0,s.jsxs)("label",{htmlFor:n,children:[a,l?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]}):null,"textarea"===t?(0,s.jsx)("textarea",{className:`form-control ${o}`,id:n,name:r,rows:h,value:c,onChange:u,placeholder:g,required:l}):"select"===t?(0,s.jsx)("select",{id:n,name:r,required:l,className:`form-control ${o}`,value:c,onChange:u,children:i.map(((e,a)=>(0,s.jsx)("option",{value:e.value,children:e.label},e.id?e.id:e.value||a)))}):"file"===t?(0,s.jsx)("input",{type:"file",id:n,name:r,multiple:p,required:l}):"text"===t||"number"===t||"date"===t||"email"===t||"password"===t?(0,s.jsx)("input",{className:`form-control ${o}`,type:t,id:n,name:r,value:c,onChange:u,min:v,disabled:m,placeholder:g,required:l}):"checkbox"===t?(0,s.jsxs)("div",{className:"checkbox-container",children:[(0,s.jsx)("input",{type:t,name:r,id:n,value:c,disabled:m}),(0,s.jsxs)("label",{htmlFor:n,children:[a,l?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]})]}):null]})}},9652:(e,a,t)=>{t.d(a,{A:()=>n});t(307);var s=t(579);const n=e=>{let{children:a,formName:t,formTitle:n,errorMessage:r}=e;return(0,s.jsxs)("div",{className:`container-md  card ${t}`,children:[(0,s.jsx)("h5",{children:n}),r&&(0,s.jsxs)("p",{style:{color:"red",fontSize:"12px"},children:["*",r]}),a]})}}}]);
//# sourceMappingURL=441.420f1332.chunk.js.map